<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Two Worlds Private Guide to Rio</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- Inline styles for subscribe‐box and status messages -->
  <style>
    /* Layout for the subscribe box */
    .subscribe-box.side-button {
      display: flex;
      align-items: center;
      gap: 0.5em;
      flex-wrap: wrap;
      max-width: 400px;
      position: relative;
    }
    .subscribe-box input {
      flex: 1;
      padding: 8px;
      font-size: 1rem;
    }
    .subscribe-box button {
      padding: 8px 16px;
      font-size: 1rem;
      cursor: pointer;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 4px;
    }

    /* Status messages inside the box */
    .status {
      font-size: 0.9rem;
      font-style: italic;
      margin-left: 0.5em;
      display: none;
      white-space: nowrap;
    }
    .sending {
      color: #888;
    }
    .confirmation {
      color: green;
      font-weight: bold;
      animation: fadeScale 0.6s ease forwards;
      opacity: 0;
      transform: scale(0.95);
    }
    @keyframes fadeScale {
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    /* Safety section styles */
    .safety-container {
      max-width: 700px;
      margin: auto;
      padding: 0 1em;
      line-height: 1.6;
    }
    .safety-container h2,
    .safety-container h3 {
      margin-top: 2em;
      margin-bottom: 0.5em;
    }
    .safety-container p {
      margin-bottom: 1em;
    }
    .safety-container ul {
      margin: 0.5em 0 1em 1.5em;
    }
  </style>
</head>

<body>
  <!-- Page Header -->
  <section class="page-header">
    <h1>Two Worlds Private Guide to Rio</h1>
    <p class="page-description">
      This is not a complete guide; it only contains places that I have personally
      been to and approved as high-quality/worth going.
    </p>
  </section>

  <!-- Navigation Menu -->
  <nav>
    <ul>
      <li><a href="#welcome">Welcome</a></li>
      <li><a href="#safety">Safety</a></li>
      <li>
        <a href="#food">Food</a>
        <ul>
          <li><a href="#supermarkets">Supermarkets</a></li>
          <li><a href="#restaurants">Restaurants</a></li>
        </ul>
      </li>
      <li><a href="#beaches">Beaches</a></li>
      <li><a href="#viewpoints">Viewpoints / Parks</a></li>
      <li><a href="#shopping">Shopping</a></li>
      <li><a href="#tours">Tours</a></li>
      <li><a href="house_manual.html">House Manual</a></li>
    </ul>
  </nav>

  <!-- Top Subscribe Box -->
  <section id="subscribe-top">
    <h2>Subscribe</h2>
    <p>Enter your Email here for the latest additions and current events</p>
    <div class="subscribe-box side-button">
      <input
        type="email"
        id="emailInputTop"
        placeholder="you@example.com"
        required
      />
      <button id="subscribeButtonTop">Enter</button>
      <span id="sendingTop" class="status sending">Sending…</span>
      <span id="confirmationTop" class="status confirmation">Confirmed!</span>
    </div>
  </section>

  <!-- Content Sections -->
  <section id="welcome">
    <h2>Welcome</h2>
    <!-- Content coming soon -->
  </section>

  <section id="safety" class="safety-container">
    <h2>Safety Guide for Rio de Janeiro</h2>
    <p>
      Rio de Janeiro dazzles with its beaches, music, and culture, but it also
      carries a reputation for high crime rates. Most visits pass without incident,
      yet visitors must remain vigilant. By understanding the city’s risk profile
      and adopting straightforward precautions, you can enjoy a worry-free stay
      in the “Cidade Maravilhosa.”
    </p>

    <h3>Understanding Rio’s Crime Landscape</h3>
    <p>
      Rio’s steep wealth gap fuels crime. Luxurious neighborhoods like Leblon and
      Ipanema sit beside favelas lacking basic services, creating opportunistic
      theft and occasional violence.
    </p>

    <h3>Petty Theft and Pickpocketing</h3>
    <ul>
      <li>Keep valuables out of sight; use minimal wallets and anti-theft pouches.</li>
      <li>Avoid leaving belongings unattended on the beach—use lockers when available.</li>
      <li>Consider travel insurance add-ons for electronics.</li>
    </ul>

    <h3>Avoiding Scams and Frauds</h3>
    <ul>
      <li>Insist taxis use the meter—never negotiate flat fares.</li>
      <li>Use ride-hailing apps with in-app payments.</li>
      <li>Choose ATMs inside banks or malls and guard your PIN.</li>
      <li>Politely decline suspicious donation or petition requests.</li>
    </ul>

    <h3>Safe Neighborhoods and Areas to Avoid</h3>
    <ul>
      <li>Tourist-friendly: Ipanema, Copacabana, Leblon, Urca, Santa Teresa.</li>
      <li>Avoid downtown after dark and poorly lit favelas.</li>
      <li>Consider licensed favela tours for safe exploration.</li>
    </ul>

    <h3>Transportation Safety</h3>
    <ul>
      <li>Use MetroRio and city buses by day.</li>
      <li>Prefer licensed, metered taxis or ride-hail apps.</li>
      <li>Share your trip details with someone you trust.</li>
    </ul>

    <h3>Safety at Beaches and Tourist Spots</h3>
    <p>
      Beaches are safe by day—stay in lifeguard-patrolled zones and don’t leave
      valuables unattended. For natural parks and viewpoints, stick to marked
      trails and join group or official shuttle tours.
    </p>
  </section>

  <section id="food">
    <h2>Food</h2>

    <h3 id="supermarkets">Supermarkets</h3>
    <p>
      <strong><a
        href="https://www.google.com/maps/search/Vitoria+mini+supermarket+Rio+de+Janeiro"
        target="_blank"
        >Vitoria mini supermarket</a
      ></strong
      ><br />
      A 2-minute walk for basics.
    </p>
    <p>
      <strong><a
        href="https://www.google.com/maps/place/Zona+Sul+supermarket+Dias+Ferreira+290+Leblon+Rio+de+Janeiro"
        target="_blank"
        >Zona Sul supermarket</a
      ></strong
      ><br />
      Best chain; 20-minute oceanfront walk in Leblon.
    </p>

    <h3 id="restaurants">Restaurants</h3>
    <p>
      <strong>Breakfast Spots</strong><br />
      • Sheraton Grand Rio Hotel &amp; Resort breakfast buffet (7–11 am)<br />
      • Café e Mar (reservation required)<br />
      • La Bicyclette (French bakery; delivery)<br />
      • Nema (pre-baked pizzas)<br />
      • Talho Capixaba (sandwich shop)<br />
      • Confeitaria Rio Lisboa (next door)<br />
      • Juice bars: Bibi Sucos, Natural e Sabor
    </p>
    <p>
      <strong>Dining Out</strong><br />
      • Burgers Rio Ipanema<br />
      • Rio Brasa Lagoa, Assador (churrascaria)<br />
      • Teva (vegan)<br />
      • Bella Blu (pay-by-weight)<br />
      • Guadalupe (Mexican)<br />
      • Parma (all-you-can-eat pizza)<br />
      • Rascal (Italian buffet)<br />
      • Haru Sushi Bar, San Leblon, Pabu Izakaya (sushi)
    </p>
  </section>

  <section id="beaches">
    <h2>Beaches</h2>
    <!-- Content coming soon -->
  </section>

  <section id="viewpoints">
    <h2>Viewpoints / Parks</h2>
    <!-- Content coming soon -->
  </section>

  <section id="shopping">
    <h2>Shopping</h2>
    <!-- Content coming soon -->
  </section>

  <section id="tours">
    <h2>Tours</h2>
    <!-- Content coming soon -->
  </section>

  <!-- Bottom Subscribe Box -->
  <section id="subscribe-bottom">
    <h2>Stay Updated</h2>
    <p>Get notified about new content and local events</p>
    <div class="subscribe-box side-button">
      <input
        type="email"
        id="emailInputBottom"
        placeholder="you@example.com"
        required
      />
      <button id="subscribeButtonBottom">Enter</button>
      <span id="sendingBottom" class="status sending">Sending…</span>
      <span
        id="confirmationBottom"
        class="status confirmation"
        >Confirmed!</span
      >
    </div>
  </section>

  <!-- Subscription Script -->
  <script>
    const endpoint =
      "https://script.google.com/macros/s/AKfycbzK-BRQnRzB0J_XrkjR9H-hNx-wvQhNCmZENMIu4NtuWjtyQszTVkw1Iqei5O3CJlRHxA/exec";

    function setupEmailField(
      inputId,
      buttonId,
      confirmId,
      sendingId
    ) {
      const input = document.getElementById(inputId);
      const button = document.getElementById(buttonId);
      const confirmation = document.getElementById(confirmId);
      const sending = document.getElementById(sendingId);

      function showConfirmation(el) {
        el.style.display = "inline";
        el.style.animation = "none";
        void el.offsetWidth;
        el.style.animation = "fadeScale 0.6s ease forwards";
      }

      async function subscribe() {
        if (!input.checkValidity()) {
          input.reportValidity();
          return;
        }

        // Show "Sending…" and hide previous confirmation
        sending.style.display = "inline-block";
        confirmation.style.display = "none";

        const formData = new URLSearchParams();
        formData.append("Email", input.value);

        try {
          const res = await fetch(endpoint, {
            method: "POST",
            body: formData,
          });
          const result = await res.json();

          // Hide "Sending…"
          sending.style.display = "none";

          if (result.result === "success") {
            showConfirmation(confirmation);
            input.value = "";
          } else {
            throw new Error(result.error || "Unknown error");
          }
        } catch (err) {
          sending.style.display = "none";
          alert("Something went wrong. Please try again later.");
          console.error(err);
        }
      }

      button.addEventListener("click", subscribe);
      input.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          subscribe();
        }
      });
    }

    // Initialize both fields
    setupEmailField(
      "emailInputTop",
      "subscribeButtonTop",
      "confirmationTop",
      "sendingTop"
    );
    setupEmailField(
      "emailInputBottom",
      "subscribeButtonBottom",
      "confirmationBottom",
      "sendingBottom"
    );
  </script>
</body>
</html>
